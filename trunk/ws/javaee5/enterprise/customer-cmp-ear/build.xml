<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 1997-2007 Sun Microsystems, Inc. All rights reserved.-->

<project name="customer-cmp-ear" default="all" basedir=".">

    <property name="is.ear.module" value="true" />

    <path id="ear-components">
        <filelist dir="./customer-cmp-ejb" files="build.xml" />
        <filelist dir="./customer-cmp-war" files="build.xml" />
        <filelist dir="./customer-cmp-appclient" files="build.xml" />
    </path>

    <property name="run.uri" value="customer-cmp-war/index.html"/>

    <import file="../../../bp-project/main.xml" />

    <target name="-pre-setup" unless="netbeans.home">
	<subant target="create-db">
		<fileset dir="setup" includes="build.xml"/>
	</subant>
    </target>

    <target name="all" unless="netbeans.home">
        <antcall target="setup"/>
        <antcall target="ear"/>
        <antcall target="deploy"/>
        <antcall target="client-jar"/>
        <antcall target="launch"/>
    </target>

    <target name="-post-unsetup" unless="netbeans.home">
        <antcall target="unsetup"/>
	<subant target="delete-db">
		<fileset dir="setup" includes="build.xml"/>
	</subant>
    </target>

    <target name="setup" unless="netbeans.home">
	<subant target="setup">
		<fileset dir="setup" includes="build.xml"/>
	</subant>
    </target>

    <target name="unsetup" unless="netbeans.home">
	<subant target="unsetup">
		<fileset dir="setup" includes="build.xml"/>
	</subant>
    </target>

    <target name="run">
        <antcall target="run-bp"/>
        <antcall target="run-nb"/>
    </target>

    <target name="run-bp" unless="netbeans.home">
        <antcall target="launch"/>
    </target>
  
    <target name="run-nb" if="netbeans.home">
        <antcall target="init"/>
        <antcall target="run-deploy"/>
        <antcall target="run-display-browser"/>
        <antcall target="run-ac"/>
    </target>

</project>
