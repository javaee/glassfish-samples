<html>
<head></head>
<body>
    <div class="j1holcontents">

	<h1>Exercise 1 Solution: Plugging into GlassFish</h1>

	<p> &nbsp;</p>

	<p class="j1holheader"> In exercise 1 you created the following files:</p>

	<ul>
	    <li><a href="#MyPlugin">MyPlugin.java</a><br></li>
	    <li><a href="#config.jsf">console-config.jsf</a><br></li>
	    <li><a href="#treenode-ex1.jsf">treenode-ex1.jsf</a><br></li>
	    <li><a href="#hello.jsf">hello.jsf</a><br></li>
	</ul>

	<a name="MyPlugin">
  <p class="j1holsubheader">Step A: <code>gfplugin/myplugin/src/main/java/org/example/glassfish/admingui/MyPlugin.java</code></p>

  </a>
<div class="codebox">
<pre>
package org.example.glassfish.admingui;

import org.glassfish.api.admingui.ConsoleProvider;
import org.jvnet.hk2.annotations.Service;
import java.net.URL;


/**
 *  &lt;p&gt; Returns the URL to &lt;code&gt;console-config.xml&lt;/code&gt; where
 *      &lt;code&gt;IntegrationPoint&lt;/code&gt;s are defined.&lt;/p&gt;
 *
 *  @return URL of configration file.
 */
@Service
public class MyPlugin implements ConsoleProvider {
    public URL getConfiguration() { return null; }
}
</pre>
</div>
  </br> </br> </br>


	<a name="config.jsf">
    <p class="j1holsubheader">Step B: <code>gfplugin/myplugin/src/main/resources/META-INF/admingui/console-config.xml</code></p>
</a>

<div class="codebox">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;console-config id="javaone"&gt;
    &lt;integration-point
        id="JavaOneNode"
        type="tree"
        priority="210"
        parentId="tree"
        content="treenode-ex1.jsf"
    /&gt;
&lt;/console-config&gt;
</pre>
</div>

  </br> </br> </br>
	<a name="treenode-ex1.jsf">
    <p class="j1holsubheader">Step C: <code>gfplugin/myplugin/src/main/resources/treenode-ex1.jsf</code></p>
</a>

<div class="codebox">
<pre>
&lt;sun:treeNode
    id="j1root"
    text="J1 TreeNode"
    imageURL="theme/com/sun/webui/jsf/suntheme/images/tree/tree_folder.gif"
    target="main"&gt;

    &lt;sun:treeNode
        id="first"
        text="First Node"
        url="javaone/hello.jsf"
        imageURL="resource/images/instance.gif"
        target="main"
    /&gt;
&lt;/sun:treeNode&gt;
</pre>
</div>

  </br> </br> </br>
	<a name="hello.jsf">
    <p class="j1holsubheader">Step C: <code>&lt;gfplugin&gt;/myplugin/src/main/resources/hello.jsf</code></p>
</a>

<div class="codebox">
<pre>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;

&lt;html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"&gt;

    &lt;head&gt;
        &lt;title&gt; Hello World &lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;h:outputText value="Your plugin is working, Congratulations!!" /&gt;
    &lt;/body&gt;

&lt;/html&gt;
</pre>
</div>

  </br> </br> </br>
    <p class="j1holheader">Final View:</p>

  <div id=u30h style="PADDING:1em 0pt; TEXT-ALIGN:left">
    <div id=eocd style="PADDING:1em 0pt; TEXT-ALIGN:left; MARGIN-LEFT:40px">
	<img src=images/ex1-result.jpg>
    </div>
  </div>

	<p><a href="#Exercise_2">Go to Exercise 2</a></p>
    </div>
</body>
